CMAKE_MINIMUM_REQUIRED(VERSION 2.5)
PROJECT(BuildSystem)

# We are not building anything in this pass

MARK_AS_ADVANCED(
  CMAKE_BACKWARDS_COMPATIBILITY
  CMAKE_BUILD_TYPE
  CMAKE_INSTALL_PREFIX
  EXECUTABLE_OUTPUT_PATH
  LIBRARY_OUTPUT_PATH
  )

SET(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_CURRENT_SOURCE_DIR}/CMake")
SET(SLICER_TEST_MODULES_PATH "${CMAKE_CURRENT_SOURCE_DIR}/Modules")

# Bring the macros

INCLUDE(SlicerParseModule)
INCLUDE(SlicerEnableModule)

# Parse a module

SLICER_PARSE_MODULE_FILE(
  "${SLICER_TEST_MODULES_PATH}/TestModule1/TestModule1.xml" TestModule1)

SLICER_GET_MODULE_VALUE(TestModule1 "Name" name)
SLICER_GET_MODULE_VALUE(TestModule1 "Dependency" deps)
SLICER_GET_MODULE_VALUE(TestModule1 "Author" authors)

#MESSAGE("Name: ${name}")
#MESSAGE("Dependency: ${deps}")
#MESSAGE("Author: ${authors}")

SLICER_CREATE_MODULE_OPTION(TestModule1 option_name)
