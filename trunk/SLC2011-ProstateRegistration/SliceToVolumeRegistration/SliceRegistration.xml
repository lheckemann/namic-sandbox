<?xml version="1.0" encoding="utf-8"?>
<executable>
  <category>Registration.SliceRegistration</category>
  <title>Slice to Volume registration</title>
  <description>Try to align an axial slice with the 3d volume.</description>
  <version>0.1.0.$Revision: 2104 $(alpha)</version>
  <documentation-url></documentation-url>
  <license></license>
  <contributor>Andrey Fedorov, BWH</contributor>
<acknowledgements>
This work is part of the National Alliance for Medical Image Computing (NAMIC), funded by the National Institutes of Health through the NIH Roadmap for Medical Research, Grant U54 EB005149.
</acknowledgements>

  <parameters>
    <label>IO</label>
    <description>Input/output parameters</description>

     <image>
      <name>sliceImageName</name>
      <label>Slice Image (fixed)</label>
      <channel>input</channel>
      <longflag>--sliceImage</longflag>
      <description>The slice image</description>
    </image>

    <image>
      <name>volumeImageName</name>
      <label>Volume Image (moving)</label>
      <channel>input</channel>
      <longflag>--volumeImage</longflag>
      <description>The volume image</description>
    </image>

    <image>
      <name>volumeMaskImageName</name>
      <label>Fixed Image mask</label>
      <channel>input</channel>
      <longflag>--volumeImageMask</longflag>
      <description>The fixed image mask</description>
    </image>

    <transform fileExtensions=".txt">
      <name>resultTransformName</name>
      <label>Output Transform</label>
      <channel>output</channel>
      <longflag>--transform</longflag>
      <description>The resulting transform</description>
    </transform>

  </parameters>

  <parameters>
    <label>Deformable registration</label>
    <description>Parameters used for deformable registration</description>

    <boolean>
      <name>EnableDeformable</name>
      <longflag>--deformable</longflag>
      <label>Enable deformable registration</label>
      <description>Perform a deformable registration after the rigid registration is completed.</description>
      <default>false</default>
    </boolean>

    <double>
      <name>GridSpacing</name>
      <longflag>gridspacing</longflag>
      <label>Grid spacing (mm)</label>
      <description>Distance between grid points of the deformable mesh.</description>
      <default>30</default>
      <constraints>
        <minimum>0.0</minimum>
        <maximum>100.0</maximum>
        <step>0.1</step>
      </constraints>
    </double>

    <double>
      <name>MaximumDeformation</name>
      <longflag>maxdeformation</longflag>
      <flag>d</flag>
      <description>Maximum allowed deformation in mm.</description>
      <label>Maximum deformation</label>
      <default>5.0</default>
      <constraints>
        <minimum>0.0</minimum>
        <maximum>20.0</maximum>
        <step>0.1</step>
      </constraints>
    </double>

    <transform fileExtensions=".txt" type="bspline">
      <name>defResultTransformName</name>
      <label>Deformable Output Transform</label>
      <channel>output</channel>
      <longflag>--defTransform</longflag>
      <description>Transform calculated that aligns the fixed and moving image. Maps positions from the fixed coordinate frame to the moving coordinate frame. Optional (specify an output transform or an output volume or both).</description>
    </transform>
    
    <image>
      <name>ResampledImageFileName</name>
      <longflag>resampledmovingfilename</longflag>
      <label>Output Volume</label>
      <channel>output</channel>
      <description>Resampled moving image to fixed image coordinate frame. Optional (specify an output transform or an output volume or both).</description>
    </image>

  </parameters>


</executable>
