This README explains how to build the UKF Tractography Module so that it can be used with the Slicer3 version /projects/schiz/software/Slicer3-build (that Slicer3 version used Python 2.6.4).

Note that all the capitalized directory names in this README stand for absolute paths.

Download 'Gzipped source tar ball' for Python 2.6.4 from http://www.python.org/download/releases/2.6.4/) then switch to the directory where you stored the tarball and then unapck and build it (Note that if your Slicer3 uses a diffferent version of Python you'll have to download a different version of Pyhon, if you built your Slicer3 yourself with the Python version on your system you can also use your systems Python for building the module):
tar xzf Python-2.6.4.tgz
cd Python-2.6.4
./configure
make

In a next step we check out weave and build it with Python 2.6.4:
svn co http://svn.scipy.org/svn/scipy/trunk/scipy/weave WEAVE_DIR
mkdir WEAVE_BUILD
Then use your built Python to build weave:
cd WEAVE_DIR
PYTHON_BUILD_DIR/python setup.py install --prefix=WEAVE_BUILD_DIR)

After building weave you have to apply a few changes to it to run properly. Switch to the WEAVE_BUILD_DIR and change the file 'lib/python2.6/site-packages/weave/platform_info.py' on line 91 from:
"import scipy.weave.md5_load as md5"
to:
"import weave.md5_load as md5"

For numpy we can use the version that is delivered with the Slicer3 version in /projects/schiz/software.

Then finally the module can be build with (from within the directory where the module source files are located):
PYTHONPATH="/projects/schiz/software/Slicer3-3.6.1-2010-08-23-linux-x86_64/lib/Python/lib/python2.6/site-packages:WEAVE_BUILD_DIR/lib/python2.6/site-packages" PYTHON_BUILD_DIR/python build.py
