PROJECT(WFEngine)

SET(SOURCE_DIRS
engine  interface
xmlManager
)

OPTION(WFCONFIGEDITOR "Want you to build the WFConfigEditor?")
IF(WFCONFIGEDITOR)
  SET(SOURCE_DIRS ${SOURCE_DIRS} wfConfigEditor)
ENDIF(WFCONFIGEDITOR)

OPTION(WFTESTCLIENT "Want you to build the WFTestClient?")
IF(WFTESTCLIENT)
  SET(SOURCE_DIRS ${SOURCE_DIRS} test)
ENDIF(WFTESTCLIENT)


SUBDIRS(${SOURCE_DIRS})
INCLUDE_DIRECTORIES(${SOURCE_DIRS})

#we must depend on xerces!
INCLUDE(${CMAKE_SOURCE_DIR}/FindXercesC.cmake)
IF(XERCESC_FOUND)
  INCLUDE_DIRECTORIES(${XERCESC_INCLUDE_DIR})
  SET(LINK_LIBS ${LINK_LIBS} XERCESC_LIBRARY)
ENDIF(XERCESC_FOUND)

IF(LOKI_FOUND)
  INCLUDE_DIRECTORIES(${LOKI_INCLUDE_DIR})
  SET(LINK_LIBS ${LINK_LIBS} ${LOKI_LIBRARY})
ENDIF(LOKI_FOUND)

INCLUDE(${CMAKE_SOURCE_DIR}/FindAsio.cmake)
IF(ASIO_FOUND)
  INCLUDE_DIRECTORIES(${ASIO_INCLUDE_DIR})
ENDIF(ASIO_FOUND)

INCLUDE_DIRECTORIES(/projects/birn/keilhack/workspace/boost)

#TARGET_LINK_LIBRARIES(WFBaseEngine ${KWWidgets_LIBRARIES}) 
ADD_EXECUTABLE(WFEngine WFEMain.cxx)
TARGET_LINK_LIBRARIES(WFEngine WFBaseEngine)
