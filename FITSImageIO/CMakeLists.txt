PROJECT(FITSImageIO)

# Find ITK.
FIND_PACKAGE(ITK REQUIRED)
IF(ITK_FOUND)
  INCLUDE(${ITK_USE_FILE})
ENDIF(ITK_FOUND)

SUBDIRS(
  cfitsio
  )

INCLUDE_DIRECTORIES(
  ${FITSImageIO_SOURCE_DIR}/cfitsio
  )

IF(NOT LIBRARY_OUTPUT_PATH)
  SET (LIBRARY_OUTPUT_PATH ${FITSImageIO_BINARY_DIR}/bin CACHE INTERNAL "Single output directory for building all libraries.")
ENDIF(NOT LIBRARY_OUTPUT_PATH)
IF(NOT EXECUTABLE_OUTPUT_PATH)
  SET (EXECUTABLE_OUTPUT_PATH ${FITSImageIO_BINARY_DIR}/bin CACHE INTERNAL "Single output directory for building all executables.")
ENDIF(NOT EXECUTABLE_OUTPUT_PATH)
 
LINK_DIRECTORIES(
  ${FITSImageIO_BINARY_DIR}/bin
  )

ADD_EXECUTABLE(FITSImageIOTest 
  FITSImageIOTest.cxx 
  itkFITSImageIO.cxx
  )

TARGET_LINK_LIBRARIES(FITSImageIOTest ITKCFITSIO ITKIO ITKCommon)
