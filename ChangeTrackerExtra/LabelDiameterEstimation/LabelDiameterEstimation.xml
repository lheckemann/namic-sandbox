<?xml version="1.0" encoding="utf-8"?>
<executable>
  <category>
  Statistics
  </category>
  <title>
  Label Diameter Estimation
  </title>
  <description>
  Estimates the largest diameter of a label, saved as a list of endpoint
  fiducials in a file.
  </description>
  <version>1.4</version>
  <documentation-url></documentation-url>
  <license></license>
  <contributor>Andriy Fedorov</contributor>
<acknowledgements>
This work was supported by funding from Brain Science Foundation.
</acknowledgements>

  <parameters advanced="true">
    <label>Advanced Parameters</label>
    <description>Advanced parameters</description>
    
    <double>
      <name>orthogonalityTolerance</name>
      <longflag>tolerance</longflag>
      <description>Allowed deviation of the angle cos() between the first two
      diameters from 1 (corresponds to orthogonal -- 90 degrees angle).</description>
      <label>Orthogonality tolerance</label>
      <default>0.01</default>
    </double>
  </parameters>

  <parameters>
    <label> Parameters </label>
    <description>Diameter estimation parameters</description>

    <integer>
      <name>inputLabel</name>
      <longflag>--label</longflag>
      <description>The value of the label that should be used for diameter estimation. If set to 0, all non-zero values in the input image will thresholded between [1,255], and the result will be considered as single label.</description>
      <label>Label value</label>
      <default>0</default>
    </integer>

  </parameters>

  <parameters>
    <label>IO</label>
    <description>Input/output parameters</description>
    <image>
      <name>inputVolume</name>
      <label>Input Volume</label>
      <channel>input</channel>
      <index>0</index>
      <description>Input volume to be segmented</description>
    </image>

    <image type="label">
      <name>outputDiameters</name>
      <label>Output label image</label>
      <channel>output</channel>
      <index>1</index>
      <description>Output label image will show the identified diameters</description>
    </image>

    <file fileExtensions=".fcvs">
      <name>outputFiducialFile</name>
      <label>File to keep the output fiducials</label>
      <channel>output</channel>
      <index>2</index>
      <description>File to save the list of fiducials corresponding to the
      identified diameters</description>
      <default></default>
    </file>

  </parameters>
</executable>
